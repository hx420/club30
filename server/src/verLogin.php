<?php require_once 'conn.php'; require_once './statusCode.php'; $verCode = $_POST['verCode']; $userAccount = $_POST['userAccount']; $statusCode = $_POST['statusCode']; if (isset($statusCode) && isValidStatusCode($statusCode)) { $sel = $conn->prepare("SELECT userVerCode FROM login_logs WHERE userAccount = ?"); $sel->bind_param('s', $userAccount); if($sel->execute() === TRUE){ $result = $sel->get_result(); if ($result->num_rows > 0) { $row = $result->fetch_assoc(); $userVerCode = $row['userVerCode']; if($verCode == $userVerCode){ header('Content-Type: application/json'); echo json_encode([ 'errno' => 0, 'message' => '验证码正确']); }else{header('Content-Type: application/json'); echo json_encode([ 'errno' => 1, 'message' => '验证码错误']);} }else{header('Content-Type: application/json'); echo json_encode([ 'errno' => 1, 'message' => '未查询到验证码']);} }else{header('Content-Type: application/json'); echo json_encode([ 'errno' => 1, 'message' => '系统错误，错误码：3306...请重试或者联系管理员！作者QQ：'.$systemAdminQq ]);} }else{header('Content-Type: application/json'); echo json_encode([ 'errno' => 1, 'message' => '无权访问！！！' ]);} ?>  